pipeline { //pipeline

    agent any
    options { disableConcurrentBuilds() }

    // tools {
    // ansible 'ansibletool'
    // }

    stages ('Setup Roboshop Application') { //stages
        stage ('Installing Frontend Server') { //Frontend stage
            steps { //Frontend steps
            sh "cat frontend.yml; cat frontend.iv"
            // withCredentials([aws(accessKeyVariable: 'AWS_ACCESS_KEY_ID', credentialsId: 'awskey', secretKeyVariable: 'AWS_SECRET_ACCESS_KEY')]) {
            //         git 'https://github.com/imjitthu/tfas-frontend.git'
            //         sh "terraform init"    
            //         sh "terraform apply -auto-approve" 
            //         //sh "mkinv.sh"  
            //         ansiblePlaybook credentialsId: 'DevOps321', installation: 'ansibletool', inventory: 'frontend_inv', playbook: 'frontend.yml'
            //           } //with credentials
                } //Frontend steps
            } //Frontend stage
        } //stages
    } //pipeline